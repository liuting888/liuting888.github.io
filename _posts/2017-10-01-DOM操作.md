---
layout: post
title: "DOM基础知识点"
date: 2017-10-01 
description: "Javascript的DOM基础知识点"
tag: 博客 
---   
# DOM操作
    DOM:Document Object Model(文档对象模型)
    DOM就是指js当中用来操作HTML和XML的API
    文档：就是指页面，在现阶段就指html文档
    节点：标签(元素)节点、属性节点、文本节点、注释节点

    DOM可以做什么？
    DOM做的事情就是对页面上的元素进行增删改查（CRUD）

### 文档树
<img src="/images/posts/js/DOM/1.png" width = "500" />    

### 节点
    树模型由一个一个的节点组成，也可以说成文档由节点组成
    * 标签(元素)节点:页面上的标签(元素)，对应的节点编号为1 * 属性节点:标签的属性，对应的节点编号为2     
    * 文本节点:标签中的文本、标签之间的回车、空格等，对应的节点编号为3
    * 注释节点:注释掉的内容，对应的节点编号为8

1. 节点的属性      
          |            | 节点类型 nodeType    |      节点名称 nodeName      |     节点值 nodeValue |
          | 元素节点    |        1            |        对应的标签名         |         null         |   
          | 属性节点    |        2            |        对应的属性名         |          对应的属性值 | 
          | 文本节点    |        3            |        #text               |          对应的文本   |

2. 节点层次
    节点存在于文档树之中，节点之间存在层次

    * 父节点:parentNode
        * 一般父节点都是元素节点
    * 子节点:
        * childNodes:获取某个元素下面所有的元素节点、文本节点
        * children:只会获取到类型为元素节点的子节点 
    * firstChild:得到的是第一个子节点,可以是元素、文本、属性(IE8不完全兼容)       
    * lastChild:得到的是最后一个子节点,可以使元素、文本、属性(IE8不完全兼容)
    * firstElementChild:得到的是第一个元素子节点(IE8不兼容)
    * lastElementChild:得到的是最后一个子节点(IE8不兼容)
    * node.nextSibling:下一个兄弟节点,可以是元素、属性、文本节点(IE8不完全兼容)  
    * node.nextElementSibling:下一个兄弟元素节点,只会得到一个元素节点(IE8不兼容)
    * node.previousSibling:上一个兄弟节点,可以是元素、属性、文本节点(IE8不完全兼容) 
    * node.previousElementSibling:上一个兄弟元素节点,只会得到一个元素节点(IE8不兼容)
    * childElementCount:获取的是节点之下所有子元素的个数(IE8不兼容,建议使用parent.children.length;)
    * node.cloneNode(deep):克隆节点
        * node: 要克隆的节点
        * deep:	是否深度克隆
        * 深度克隆：把后代元素也复制过来
        * 返回值：要克隆的节点的副本
        * 克隆的节点不会直接添加到结构当中，所以要手动添加
        * 克隆的节点id和之前的元素是一样的，记得修改
    * parentNode.appendChild(childNode):追加节点
        * parentNode:你希望把子节点添加到谁的下面作为他的子节点    
        * childNode:子节点
        * 注意：字节点被追加之后，会作为父节点的最后一个子节点存在



### 获取页面上的元素
1. 元素的Id属性获取元素: document.getElementById(对应元素的id);
    * 没有id属性与参数相匹配的的元素，返回null

2. 元素的标签名获取元素:document.getElementsByTagName("img")
    * 得到的是一具NodeList对象,可以用length属性遍历

3. 元素的类名获取元素:document.getElementsByClassName()
    * 得到一个NodeList对象,IE兼容性不好

4.  name属性获取元素:document.getElementsByName(name);
    * 返回的也是一个nodeList对象

### 获取和设置文本
1. innerHTML
    * 用来获取或者设置某个元素的内容（包括标签和文本）
    * 如果有标签，会如实获取到，如果没有标签，会得到文本
    * 用来设置内容的时候，会把标签里面原来的内容给覆盖

2. innerText        
    * 用来获取或者设置某个元素内部的文本（不能得到标签）
    * 早期的火狐，不支持innerText，支持的是textContent

3. textContent
    * 也是可以获取和设置元素的文本，不会被解析成标签
    * ie8及以下不支持

> 如果获取和设置表单元素的内容：value属性       

### DOM对象的属性
    * 一般属性:src，alt，name，id
    * 特殊属性:className（class因为是保留字），selected，checked，disabled
    * 自定义属性:
        *一般采用data-开头
        * 获取自定义属性:getAttribute
        * 设置自定义属性:setAttribute
        * 移除属性:removeAttribute

### 事件
    * 事件就是文档或浏览器中发生的特定的交互瞬间
    * 事件三要素
        事件源	  |     谁    | DOM对象
        事件类型(名称) | 发生了什么 |  触发了什么事件
        事件处理程序   | 如何应对   | 要执行什么代码(函数)

1. 注册(绑定)事件
    * 行内式:在标签内使用属性的方式注册事件
    * 内嵌式:在页面中的script标签中注册事件
        * on的方式:on+事件名称 = 函数(只能绑定一个处理函数)
        * addEventListener的方式:DOM对象.addEventListener(事件名称，处理函数，函数执行时机);(ie8及以前的浏览器不支持)
        * attackEvent的用法:(ie6-ie10支持)                       
    * 外联式

2.常用的事件

    onclick	    鼠标单击
    ondblclick	鼠标双击
    onkeydown	按下键盘上的一个按键时触发 
    onkeyup	    松开键盘上的一个按键时触发
    onchange 	文本内容或下拉菜单中的选项发生改变
    onfocus 	获得焦点，表示文本框等获得鼠标光标
    onblur 	    失去焦点，表示文本框等失去鼠标光标
    onmouseover	鼠标悬停
    onmouseout 	鼠标移出
    onload	    文档加载完成
    onunload	关闭网页时触发
    onsubmit	表单提交事件 

### DOM操作元素的样式
1. className:使某个元素的className属性等于我们之前在css里面准备好的class

2. style:直接通过对象.style.属性的方式来控制每个元素的样式
    * 如果属性只要一个单词，这个单词可以直接写出来并且是小写的,比如：color、border
    * 如果属性有多个单词，要把写在css里的横杠去掉，然后根据驼峰命名的方式来写对应的属性
    * 如果要重置，就让某个属性赋值为空的字符串就可以了
    * 不管是设置还是获取，都是操作行内样式